import{d as M,e as o,J as P,c as i,a,f as t,w as _,v as f,b as j,p as X,t as m,g as u,F as x,h as b,y as G,n as A}from"./app-Ccdyq44E.js";import Y from"./Select2-CY8QQe8M.js";/* empty css            */import"./_plugin-vue_export-helper-DlAUqK2U.js";const J={class:"relative flex flex-col p-4 bg-white/5 rounded-lg border border-white/10"},z={class:"flex items-start gap-4 mb-4"},K={class:"w-1/3"},$={class:"flex-1"},Q={class:"flex items-center justify-between"},W={class:"text-xs text-gray-400"},Z={class:"w-1/3"},ee={class:"block text-sm font-medium text-gray-400 mb-2"},se={class:"h-[38px] flex items-center gap-2"},le=["placeholder"],re={key:3,class:"w-full h-full"},te={class:"flex items-center gap-2"},ie=["onClick","title"],ae={class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ne=["d"],ue={class:"flex flex-wrap gap-4"},oe={key:0,class:"flex flex-wrap gap-4"},de={key:0,class:"w-full"},ce={class:"flex gap-2"},pe={key:0,class:"mt-2 flex flex-wrap gap-2"},_e={class:"text-slate-200"},fe=["onClick"],me={class:"flex flex-wrap gap-2"},ve=["onClick"],he={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Te={__name:"SchemaField",props:{modelValue:{type:Object,required:!0},index:{type:Number,required:!0}},emits:["update:modelValue","remove","edit-logic"],setup(C,{emit:L}){const v=C,h=L,l=M({...v.modelValue}),T=[{mysql_type:"CHAR",laravel_method:"char",description:"Fixed length string",requires_length:!0,requires_precision:!1,requires_scale:!1,requires_values:!1},{mysql_type:"VARCHAR",laravel_method:"string",description:"Variable length string",requires_length:!0,requires_precision:!1,requires_scale:!1,requires_values:!1},{mysql_type:"TEXT",laravel_method:"text",description:"Text up to 65,535 bytes",requires_length:!1,requires_precision:!1,requires_scale:!1,requires_values:!1},{mysql_type:"MEDIUMTEXT",laravel_method:"mediumText",description:"Medium text",requires_length:!1,requires_precision:!1,requires_scale:!1,requires_values:!1},{mysql_type:"LONGTEXT",laravel_method:"longText",description:"Long text",requires_length:!1,requires_precision:!1,requires_scale:!1,requires_values:!1},{mysql_type:"BLOB",laravel_method:"binary",description:"Binary data",requires_length:!1,requires_precision:!1,requires_scale:!1,requires_values:!1},{mysql_type:"ENUM",laravel_method:"enum",description:"Enumerated values",requires_length:!1,requires_precision:!1,requires_scale:!1,requires_values:!0},{mysql_type:"TINYINT",laravel_method:"tinyInteger",description:"Small integer",requires_length:!1,requires_precision:!1,requires_scale:!1,requires_values:!1},{mysql_type:"SMALLINT",laravel_method:"smallInteger",description:"Small integer",requires_length:!1,requires_precision:!1,requires_scale:!1,requires_values:!1},{mysql_type:"MEDIUMINT",laravel_method:"mediumInteger",description:"Medium integer",requires_length:!1,requires_precision:!1,requires_scale:!1,requires_values:!1},{mysql_type:"INT",laravel_method:"integer",description:"Standard integer",requires_length:!1,requires_precision:!1,requires_scale:!1,requires_values:!1},{mysql_type:"BIGINT",laravel_method:"bigInteger",description:"Large integer",requires_length:!1,requires_precision:!1,requires_scale:!1,requires_values:!1},{mysql_type:"FLOAT",laravel_method:"float",description:"Floating point",requires_length:!1,requires_precision:!0,requires_scale:!0,requires_values:!1},{mysql_type:"DOUBLE",laravel_method:"double",description:"Double precision float",requires_length:!1,requires_precision:!0,requires_scale:!0,requires_values:!1},{mysql_type:"DECIMAL",laravel_method:"decimal",description:"Fixed-point decimal",requires_length:!1,requires_precision:!0,requires_scale:!0,requires_values:!1},{mysql_type:"DATE",laravel_method:"date",description:"Date only",requires_length:!1,requires_precision:!1,requires_scale:!1,requires_values:!1},{mysql_type:"DATETIME",laravel_method:"dateTime",description:"Date and time",requires_length:!1,requires_precision:!1,requires_scale:!1,requires_values:!1},{mysql_type:"TIMESTAMP",laravel_method:"timestamp",description:"Timestamp",requires_length:!1,requires_precision:!1,requires_scale:!1,requires_values:!1},{mysql_type:"TIME",laravel_method:"time",description:"Time only",requires_length:!1,requires_precision:!1,requires_scale:!1,requires_values:!1},{mysql_type:"YEAR",laravel_method:"year",description:"Year only",requires_length:!1,requires_precision:!1,requires_scale:!1,requires_values:!1},{mysql_type:"JSON",laravel_method:"json",description:"JSON data",requires_length:!1,requires_precision:!1,requires_scale:!1,requires_values:!1},{mysql_type:"BOOLEAN",laravel_method:"boolean",description:"Boolean",requires_length:!1,requires_precision:!1,requires_scale:!1,requires_values:!1}],w=e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase(),p=e=>T.find(r=>r.mysql_type===e)||null,q=o(()=>{const e=p(l.value.type);return(e==null?void 0:e.requires_length)||!1}),y=o(()=>{const e=p(l.value.type);return(e==null?void 0:e.requires_precision)||!1}),g=o(()=>{const e=p(l.value.type);return(e==null?void 0:e.requires_scale)||!1}),E=o(()=>{const e=p(l.value.type);return(e==null?void 0:e.requires_values)||!1}),N=[{name:"nullable",label:"Nullable",description:"Allow null values for this field"},{name:"unique",label:"Unique",description:"Ensure values are unique across records"},{name:"indexed",label:"Indexed",description:"Create an index for faster queries"},{name:"encrypted",label:"Encrypted",description:"Encrypt this field's values",showIf:e=>e.type==="string"}],n=()=>{h("update:modelValue",{...l.value})},V=e=>{l.value[e]=!l.value[e],n()},O=o(()=>N.filter(e=>e.showIf?e.showIf(l.value):!0));P(()=>v.modelValue,e=>{l.value={...e}},{deep:!0});const d=M(""),S=o(()=>q.value||y.value||g.value||E.value),k=()=>{d.value.trim()&&(l.value.values||(l.value.values=[]),l.value.values.includes(d.value.trim())||(l.value.values.push(d.value.trim()),n()),d.value="")},B=e=>{l.value.values.splice(e,1),n()},D=[{name:"logic",icon:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z",tooltip:"Edit field logic",classes:"hover:text-blue-300",activeClasses:"text-blue-500",inactiveClasses:"text-blue-400",isActive:e=>!!e.logic,handler:()=>h("edit-logic",{index:v.index,logic:l.value.logic})},{name:"remove",icon:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16",tooltip:"Remove field",classes:"hover:text-red-300",activeClasses:"text-red-500",inactiveClasses:"text-red-400",isActive:()=>!1,handler:()=>h("remove")}],U=o(()=>T.map(e=>({value:e.mysql_type,label:w(e.mysql_type),description:e.description,group:F(e.mysql_type)}))),F=e=>["CHAR","VARCHAR","TEXT","MEDIUMTEXT","LONGTEXT"].includes(e)?"Text Types":["TINYINT","SMALLINT","MEDIUMINT","INT","BIGINT","FLOAT","DOUBLE","DECIMAL"].includes(e)?"Numeric Types":["DATE","DATETIME","TIMESTAMP","TIME","YEAR"].includes(e)?"Date & Time Types":["JSON","BOOLEAN","ENUM","BLOB"].includes(e)?"Special Types":"Other Types",R=e=>{const r=p(e);return r?r.requires_length?"Length":r.requires_precision&&r.requires_scale?"Precision & Scale":r.requires_precision?"Precision":r.requires_scale?"Scale":"Options":"Options"},H=e=>{switch(e){case"VARCHAR":return"Max length";case"CHAR":return"Fixed length";default:return"Length"}};return(e,r)=>{var I;return a(),i("div",J,[t("div",z,[t("div",K,[r[6]||(r[6]=t("label",{class:"block text-sm font-medium text-gray-400 mb-2"},"Field Name",-1)),_(t("input",{"onUpdate:modelValue":r[0]||(r[0]=s=>l.value.name=s),type:"text",class:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"email",onInput:n},null,544),[[f,l.value.name]])]),t("div",$,[r[7]||(r[7]=t("label",{class:"block text-sm font-medium text-gray-400 mb-2"}," Type ",-1)),j(Y,{modelValue:l.value.type,"onUpdate:modelValue":r[1]||(r[1]=s=>l.value.type=s),options:U.value,placeholder:"Select field type",class:"w-full",onChange:n},{option:X(({option:s})=>[t("div",Q,[t("span",null,m(w(s.value)),1),t("span",W,m(s.description),1)])]),_:1},8,["modelValue","options"])]),t("div",Z,[t("label",ee,m(R(l.value.type)),1),t("div",se,[q.value?_((a(),i("input",{key:0,"onUpdate:modelValue":r[2]||(r[2]=s=>l.value.length=s),type:"number",class:"flex-1 px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:H(l.value.type),onInput:n},null,40,le)),[[f,l.value.length]]):u("",!0),y.value?_((a(),i("input",{key:1,"onUpdate:modelValue":r[3]||(r[3]=s=>l.value.precision=s),type:"number",class:"flex-1 px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"Precision",onInput:n},null,544)),[[f,l.value.precision]]):u("",!0),g.value?_((a(),i("input",{key:2,"onUpdate:modelValue":r[4]||(r[4]=s=>l.value.scale=s),type:"number",class:"flex-1 px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"Scale",onInput:n},null,544)),[[f,l.value.scale]]):u("",!0),!q.value&&!y.value&&!g.value?(a(),i("div",re)):u("",!0)])]),t("div",te,[(a(),i(x,null,b(D,s=>{var c;return t("button",{key:s.name,type:"button",onClick:s.handler,class:A(["p-2 transition-colors",[s.classes,(c=s.isActive)!=null&&c.call(s,l.value)?s.activeClasses:s.inactiveClasses]]),title:s.tooltip},[(a(),i("svg",ae,[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:s.icon},null,8,ne)]))],10,ie)}),64))])]),t("div",ue,[S.value?(a(),i("div",oe,[E.value?(a(),i("div",de,[r[9]||(r[9]=t("label",{class:"block text-sm font-medium text-gray-400 mb-2"}," Enum Values ",-1)),t("div",ce,[_(t("input",{"onUpdate:modelValue":r[5]||(r[5]=s=>d.value=s),type:"text",class:"flex-1 px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"Enter enum value",onKeyup:G(k,["enter"])},null,544),[[f,d.value]]),t("button",{onClick:k,class:"px-4 py-2 bg-blue-500/20 hover:bg-blue-500/30 text-blue-300 rounded-lg transition-colors"}," Add ")]),(I=l.value.values)!=null&&I.length?(a(),i("div",pe,[(a(!0),i(x,null,b(l.value.values,(s,c)=>(a(),i("div",{key:c,class:"flex items-center gap-2 px-3 py-1 bg-slate-700/50 rounded-lg text-sm"},[t("span",_e,m(s),1),t("button",{onClick:qe=>B(c),class:"text-slate-400 hover:text-red-400"},r[8]||(r[8]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,fe)]))),128))])):u("",!0)])):u("",!0)])):u("",!0),t("div",me,[(a(!0),i(x,null,b(O.value,s=>(a(),i("button",{key:s.name,type:"button",onClick:c=>V(s.name),class:A(["px-3 py-1.5 rounded-lg text-sm font-medium transition-all duration-200 flex items-center gap-2",[l.value[s.name]?"bg-slate-700/50 hover:bg-slate-700/70 text-slate-200":"bg-slate-700/20 hover:bg-slate-700/30 text-slate-400"]])},[l.value[s.name]?(a(),i("svg",he,r[10]||(r[10]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)]))):u("",!0),t("span",null,m(s.label),1)],10,ve))),128))])])])}}};export{Te as default};
