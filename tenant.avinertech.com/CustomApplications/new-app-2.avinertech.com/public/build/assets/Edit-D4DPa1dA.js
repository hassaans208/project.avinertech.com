import{d as C,B as k,e as I,o as K,c as l,a as s,f as o,j as U,F as q,h as B,g as d,t as c,n as z,w as m,z as L,i as M,C as N,v as D,q as j,D as $}from"./app-yE3FpRTR.js";import{u as A,a as T}from"./vue-router-B0NaFcvx.js";import O from"./ClientLayout-Crrczioq.js";import P from"./Select2-4AAQD__I.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */import"./auth-_LkxOj9j.js";const H={class:"max-w-3xl mx-auto"},J={key:0,class:"flex items-center justify-center py-12"},Y={class:"bg-white/5 backdrop-blur-lg rounded-xl border border-white/10 p-6 space-y-6"},G={class:"grid grid-cols-12 gap-6"},Q=["for"],W={key:0,class:"text-pink-400 ml-1"},X={key:0,class:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-gray-400"},Z=["type","id","onUpdate:modelValue","placeholder","required","disabled","maxlength","minlength","pattern","onInput","onChange","onKeyup","onKeydown","onBlur","onFocus"],f=["id","onUpdate:modelValue","placeholder","required","disabled","rows","maxlength","onInput","onChange","onKeyup","onKeydown","onBlur","onFocus"],ee={key:4,class:"flex items-center"},te=["id","onUpdate:modelValue","required","disabled","onChange"],ae=["for"],ne={key:5,class:"space-y-2"},oe=["id","name","value","onUpdate:modelValue","required","disabled","onChange"],se=["for"],re=["id","onUpdate:modelValue","required","disabled","min","max","onChange","onBlur"],le={key:7,class:"mt-1 text-sm text-pink-400"},ie={key:8,class:"mt-1 text-sm text-gray-400"},ce={class:"flex items-center justify-end space-x-4"},ue=["disabled"],pe={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},de=Object.assign({layout:O},{__name:"Edit",setup(me){const y=A(),b=T(),u=C(!1),x=C(!0),i=k({}),v=[{name:"id",label:"Client ID",type:"text",editable:!1,options:{col:"col-span-6"}},{name:"name",label:"Client Name",type:"text",placeholder:"Enter client name",required:!0,editable:!0,maxLength:100,options:{col:"col-span-6"},onInput:a=>{const n=a.target.value;n&&n[0]!==n[0].toUpperCase()&&(a.target.value=n.charAt(0).toUpperCase()+n.slice(1))},onBlur:a=>{a.target.value.length<2?i.name="Name must be at least 2 characters long":i.name=""}},{name:"email",label:"Email Address",type:"email",placeholder:"Enter email address",required:!0,editable:!0,pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$",options:{col:"col-span-6"},onBlur:a=>{/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.target.value)?i.email="":i.email="Please enter a valid email address"}},{name:"phone",label:"Phone Number",type:"tel",placeholder:"Enter phone number",required:!1,editable:!0,pattern:"[0-9]{10}",helper:"Enter a 10-digit phone number",options:{col:"col-span-6"},onInput:a=>{let n=a.target.value.replace(/\D/g,"");n.length>10&&(n=n.slice(0,10)),a.target.value=n}},{name:"status",label:"Status",type:"select",placeholder:"Select status",required:!0,editable:!0,options:{col:"col-span-6",items:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"pending",label:"Pending"}]},onChange:a=>{a.target.value?i.status="":i.status="Status is required"}},{name:"notes",label:"Notes",type:"textarea",placeholder:"Enter any additional notes",required:!1,editable:!0,rows:4,maxLength:500,helper:"Maximum 500 characters",options:{col:"col-span-12"}},{name:"startDate",label:"Start Date",type:"date",required:!0,editable:!0,min:new Date().toISOString().split("T")[0],options:{col:"col-span-6"},onChange:a=>{new Date(a.target.value)<new Date?i.startDate="Start date cannot be in the past":i.startDate=""}},{name:"created_at",label:"Created At",type:"date",editable:!1,options:{col:"col-span-6"}},{name:"notifications",label:"Enable Notifications",type:"checkbox",checkboxLabel:"Send email notifications for updates",required:!1,editable:!0,options:{col:"col-span-6"}},{name:"type",label:"Client Type",type:"radio",required:!0,editable:!0,options:{col:"col-span-12",items:[{value:"individual",label:"Individual"},{value:"business",label:"Business"},{value:"enterprise",label:"Enterprise"}]}}],w=I(()=>v),r=k(v.reduce((a,n)=>(a[n.name]=n.type==="checkbox"?!1:"",a),{})),V=a=>{var e;const n=r[a.name];if(a.type==="date")return new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});if(a.type==="select"){const p=(e=a.options)==null?void 0:e.items.find(h=>h.value===n);return p?p.label:n}return a.type==="checkbox"?n?"Yes":"No":n},F=async()=>{try{await new Promise(n=>setTimeout(n,1e3));const a={id:(b==null?void 0:b.params.id)??"10",name:"John Doe",email:"john@example.com",phone:"1234567890",status:"active",notes:"Important client",startDate:"2024-01-01",created_at:"2024-01-01",notifications:!0,type:"business"};Object.keys(a).forEach(n=>{n in r&&(r[n]=a[n])})}catch(a){console.error("Error fetching client data:",a)}finally{x.value=!1}},E=async()=>{if(Object.keys(i).forEach(a=>delete i[a]),w.value.forEach(a=>{a.required&&!r[a.name]&&(i[a.name]=`${a.label} is required`)}),!(Object.keys(i).length>0)){u.value=!0;try{await new Promise(a=>setTimeout(a,1500)),console.log("Form submitted:",r),y.push({name:"client.list"})}catch(a){console.error("Error submitting form:",a)}finally{u.value=!1}}},S=()=>{y.push({name:"client.list"})};return K(()=>{F()}),(a,n)=>(s(),l("div",H,[n[2]||(n[2]=o("div",{class:"mb-8"},[o("h2",{class:"text-2xl font-bold text-white"},"Edit Client"),o("p",{class:"mt-1 text-sm text-gray-400"},"Update client information")],-1)),x.value?(s(),l("div",J,n[0]||(n[0]=[o("svg",{class:"animate-spin h-8 w-8 text-pink-500",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):(s(),l("form",{key:1,onSubmit:U(E,["prevent"]),class:"space-y-6"},[o("div",Y,[o("div",G,[(s(!0),l(q,null,B(w.value,e=>{var p,h,_;return s(),l("div",{key:e.name,class:z([((p=e.options)==null?void 0:p.col)||"col-span-12","space-y-2"])},[o("label",{for:e.name,class:"block text-sm font-medium text-gray-300"},[M(c(e.label)+" ",1),e.required?(s(),l("span",W,"*")):d("",!0)],8,Q),e.editable?e.type==="text"||e.type==="email"||e.type==="tel"?m((s(),l("input",{key:1,type:e.type,id:e.name,"onUpdate:modelValue":t=>r[e.name]=t,placeholder:e.placeholder,required:e.required,disabled:e.disabled,maxlength:e.maxLength,minlength:e.minLength,pattern:e.pattern,class:"w-full px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-500/50 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed",onInput:t=>e.onInput&&e.onInput(t),onChange:t=>e.onChange&&e.onChange(t),onKeyup:t=>e.onKeyup&&e.onKeyup(t),onKeydown:t=>e.onKeydown&&e.onKeydown(t),onBlur:t=>e.onBlur&&e.onBlur(t),onFocus:t=>e.onFocus&&e.onFocus(t)},null,40,Z)),[[N,r[e.name]]]):e.type==="textarea"?m((s(),l("textarea",{key:2,id:e.name,"onUpdate:modelValue":t=>r[e.name]=t,placeholder:e.placeholder,required:e.required,disabled:e.disabled,rows:e.rows||4,maxlength:e.maxLength,class:"w-full px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-500/50 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed resize-none",onInput:t=>e.onInput&&e.onInput(t),onChange:t=>e.onChange&&e.onChange(t),onKeyup:t=>e.onKeyup&&e.onKeyup(t),onKeydown:t=>e.onKeydown&&e.onKeydown(t),onBlur:t=>e.onBlur&&e.onBlur(t),onFocus:t=>e.onFocus&&e.onFocus(t)},null,40,f)),[[D,r[e.name]]]):e.type==="select"?(s(),L(P,{key:3,id:e.name,modelValue:r[e.name],"onUpdate:modelValue":t=>r[e.name]=t,options:(h=e.options)==null?void 0:h.items.map(t=>({id:t.value,text:t.label})),settings:{placeholder:e.placeholder,allowClear:!0,disabled:e.disabled,required:e.required,theme:"light",containerCssClass:"w-full px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-500/50 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed text-white"},class:"text-white",onChange:t=>e.onChange&&e.onChange({target:{value:t}}),onBlur:t=>e.onBlur&&e.onBlur(t),onFocus:t=>e.onFocus&&e.onFocus(t)},null,8,["id","modelValue","onUpdate:modelValue","options","settings","onChange","onBlur","onFocus"])):e.type==="checkbox"?(s(),l("div",ee,[m(o("input",{type:"checkbox",id:e.name,"onUpdate:modelValue":t=>r[e.name]=t,required:e.required,disabled:e.disabled,class:"h-4 w-4 rounded border-white/10 bg-white/5 text-pink-500 focus:ring-pink-500/50 focus:ring-offset-gray-900",onChange:t=>e.onChange&&e.onChange(t)},null,40,te),[[j,r[e.name]]]),o("label",{for:e.name,class:"ml-2 block text-sm text-gray-300"},c(e.checkboxLabel),9,ae)])):e.type==="radio"?(s(),l("div",ne,[(s(!0),l(q,null,B((_=e.options)==null?void 0:_.items,t=>(s(),l("div",{key:t.value,class:"flex items-center"},[m(o("input",{type:"radio",id:`${e.name}-${t.value}`,name:e.name,value:t.value,"onUpdate:modelValue":g=>r[e.name]=g,required:e.required,disabled:e.disabled,class:"h-4 w-4 border-white/10 bg-white/5 text-pink-500 focus:ring-pink-500/50 focus:ring-offset-gray-900",onChange:g=>e.onChange&&e.onChange(g)},null,40,oe),[[$,r[e.name]]]),o("label",{for:`${e.name}-${t.value}`,class:"ml-2 block text-sm text-gray-300"},c(t.label),9,se)]))),128))])):e.type==="date"?m((s(),l("input",{key:6,type:"date",id:e.name,"onUpdate:modelValue":t=>r[e.name]=t,required:e.required,disabled:e.disabled,min:e.min,max:e.max,class:"w-full px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-500/50 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed",onChange:t=>e.onChange&&e.onChange(t),onBlur:t=>e.onBlur&&e.onBlur(t)},null,40,re)),[[D,r[e.name]]]):d("",!0):(s(),l("div",X,c(V(e)),1)),i[e.name]?(s(),l("p",le,c(i[e.name]),1)):d("",!0),e.helper?(s(),l("p",ie,c(e.helper),1)):d("",!0)],2)}),128))])]),o("div",ce,[o("button",{type:"button",onClick:S,class:"px-4 py-2 rounded-lg bg-white/10 text-white hover:bg-white/20 transition-all"}," Cancel "),o("button",{type:"submit",disabled:u.value,class:"px-4 py-2 rounded-lg bg-gradient-to-r from-pink-500 to-purple-600 text-white hover:shadow-lg hover:shadow-pink-500/30 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2"},[u.value?(s(),l("svg",pe,n[1]||(n[1]=[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):d("",!0),o("span",null,c(u.value?"Saving...":"Save Changes"),1)],8,ue)])],32))]))}}),_e=R(de,[["__scopeId","data-v-819be3fa"]]);export{_e as default};
